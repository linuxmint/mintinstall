<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" DIR="LTR">
<head>
 <meta http-equiv="Content-type" content="text/html;charset=UTF-8" />
 <title></title>
 <script type="text/javascript">
  function changeTitle(title) { 
    document.title = title; 
    document.title = "nop"; 
  }
  function addCategory(name, num_packages, img) {
    oT = document.getElementsByTagName("table")[0];
    Tr = document.getElementsByTagName("tr")[0];
    newTd = document.createElement("td");
    newTd.setAttribute("tabindex", 0)
    newTd.className = "category_td";
    // we need a <p> around the img so that we can align it
    newTextAroundImg = document.createElement("div");
    newImg = document.createElement("img");
    newImg.src = img;
    newImg.setAttribute("width", 72);
    newImg.setAttribute("height", 72);
    newImg.className = "no_drag";
    newImg.className = "reflect";
    newTextAroundImg.appendChild(newImg);
    newText = document.createElement("div");
    newText.align = "center";

    newSubText = document.createElement("font");
    newSubText.align = "center";
    newSubText.setAttribute("size", 2);
    newSubText.setAttribute("color", "#555555");

    click_cb = 'changeTitle("call:on_category_clicked:' + name + '");';
    newTd.setAttribute('onclick', click_cb);
    key_cb = 'if (event.which == 13) { changeTitle("call:on_category_clicked:' + name + '"); };'
    newTd.setAttribute('onkeydown', key_cb);
    newTd.id = "Category_"+ parseInt(categoryCount)
    newText.appendChild(document.createTextNode(name))
    newText.appendChild(document.createElement("br"))
    newText.appendChild(newSubText)
    newText.appendChild(document.createElement("br"))
    newTd.appendChild(newTextAroundImg);
    newTd.appendChild(newText);    
    Tr.appendChild(newTd);
    categoryCount += 1;
  }
  function clearCategories() {      
    var row = document.getElementsByTagName("tr")[0];
    for(var i = row.cells.length - 1; i >= 0; i--)
    {
        row.deleteCell(i);
    }

  }
  function currently_displayed_rows() {
      var cat_inc_count = 1, current_offset_left = 0, check_offset_left;
      while (true) {
          check_offset_left = document.getElementById("Category_" + cat_inc_count).offsetLeft;
          if (check_offset_left < current_offset_left) {
              break;
          } else {
              current_offset_left = check_offset_left;
              cat_inc_count += 1;
          }
      }
      return cat_inc_count;
  }
  
  function onKey(ev) {
    if (ev) {
      switch (ev.keyCode) {
        // left
        case 37:
          category_delta = -1;
          break;    
        // up
        case 38:
          category_delta = -currently_displayed_rows();
          break;    
        // right
        case 39:
          category_delta = 1;
          break;   
        // down
        case 40:
          category_delta = currently_displayed_rows();
          break;   
        // tab
        case 9:
          category_delta = 1;
          break;   
        default:
          category_delta = 0;
      } 
      // HACK: the very first key-stroke should always focus the first element
      if (currentCategory  == -1)
         category_delta = 1;
      // ensure that we go not over the borders				 
      if ((currentCategory + category_delta) > categoryCount ||
          (currentCategory + category_delta) < 0)
          category_delta = 0;
      var potential_new_category = "Category_" + (parseInt(currentCategory) + category_delta);
      var potential_selected = document.getElementById(potential_new_category);
      if (potential_selected) {
          currentCategory += category_delta;
          potential_selected.focus();
      } 
    }
  }  
  // global variables to keep track of the cursor
  var categoryCount = 0;
  var currentCategory = -1;
  // global key handler for the arrow keys
  document.onkeyup = onKey;
 </script>
  <style type="text/css">
    .category_td {
      background-color: #E8E8E8;
	  -webkit-transition: all 0.3s ease;
	  border-radius: 5px;
      display: inline-block;
      text-overflow: ellipsis;
      vertical-align: top;
      width: 10.9em;
      outline: 0; <!-- Hell Yes, Removed that outline :D :D :D -->
    }
    .category_td:hover {
		cursor: pointer; 
		background-color: #ACCD8A;
		-webkit-transition: all 0.4s ease;
	}     
	.category_td:active {background-color: #ACCD8A;}
    .category_td p { font-size:90%; text-align:center; }
    .category_td div { font-size:90%; text-align:center; }
    .no_drag { -webkit-user-drag: auto; }
    .reflect { -webkit-box-reflect: below 13px -webkit-gradient(linear, left top, left bottom, from(transparent), color-stop(.7, transparent), to(rgba(0,0,0,0.5))); }

 </style>
 
 <style type="text/css">
    *{ -khtml-user-drag:none;}
    body {
      background-color: #D6D6D6;
      margin-left: 10px; 
      margin-right: 10px; 
      margin-bottom: 10px;
      font-family:${font_family};
      font-size:${font_size};
      font-weight:${font_weight};
      font-style:${font_style};
    }
   
    h1 { 
	  color: #4a4a4a;
      position: relative;
      left: 0;
      font-size: 50px;
      #line-height: 50px;
      margin-bottom: 0px;
	  padding-bottom: 0px;
	  -webkit-box-reflect: below 3px -webkit-gradient(linear, left top, left bottom, from(transparent), color-stop(.7, transparent), to(rgba(0,0,0,0.5)));
      }

    h1 a:link,
    h1 a:visited,
    h1 a:hover
      
	.glow {
	  -webkit-transition: all 0.3s ease;
	}
	.glow:hover {
	   text-shadow: 0 0 20px #484848;
	   -webkit-transition: all 0.4s ease;
	}
  
    h2 {
      font-size:80%;
      margin:0 0 0.3em 0;
      font-weight:normal;
    }
    #error {
      font-size: 80%;
      clear:left;
      border-left: 5px solid #ea2824;
      border-right: 5px solid #ea2824;
      background-color: #fcb9b8;
      padding: 0 5px;
    }
    #warning {
      font-size: 80%;
      clear:left;
      border-left: 5px solid #fc9518;
      border-right: 5px solid #fc9518;
      background-color: #feeecc;
      padding: 0 5px;
    }
    #description {
      font-size: 80%;
      clear:left;
    }
    #icon {
      margin-left:-76px;
      width:64px;
      height:64px;
      z-index:-1;      
      position:absolute;
      -webkit-background-clip: border-box;
      -webkit-background-origin: border-box;
      -webkit-background-size: 32px 32px;
    }
       
    #screenshot_wrap{
      display:block;
    }
    
    .screenshot {
      overflow:hidden;
      -webkit-box-shadow: rgba(0, 0, 0, 0.4) -4px 2px 10px;
      display:inline-block;
      max-width:500px;
      max-height:375px;
      cursor: -webkit-zoom-in;
      text-align:center;
      -khtml-user-drag:none;
    }
    
    #text {
      float:left; 
      padding-left:86px;
    }   
    #package_information { 
      font-size:70%; 
    }
    #maintainance_time { 
      font-size:70%; 
    }
    #license { 
      font-size:70%; 
    }
    #price { 
      font-size:70%; 
    } 
    #action_button_description { 
      font-size:70%; 
    } 
    #reviewsTable { 
      font-size:90%; 
      #float:left; 
      padding-left:30px;
    }  
    #infoTable { 
      font-size:70%; 
      float:left; 
      padding-left:86px;
      padding-bottom:20px;
    }  
    #wrapper h2{
      padding:-15px;
      color: #4a4a4a;
      font-weight:bold;
      font-size:1em;      
      padding:0.2em  0.8em;
      margin: .25em 0;
      background-color:#BFBFBF;
      -webkit-border-top-left-radius: 5px;
      -webkit-border-top-right-radius: 5px;
    }
	#wrapper{
        margin-top:1em;
        clear:both;
        border-radius: 5px;
        background-color:#E8E8E8;        
        -webkit-box-shadow: rgba(0, 0, 0, 0.2) -1px 1px 4px;
    }
    #inner{
      padding:15px;
      font-size:70%; 
    }
    #num{
		float: center;
		padding-left:85px;
	}
 </style>
 </head>

<body>
	<center>
		<div>
		<h1><img style="width:64px;height:64px;vertical-align:top" src="/usr/lib/linuxmint/mintInstall/icon.svg">
		<span style="">$titleMain</h1><div id="num">$package_num_2</div></span>
		</div>
	</center>
	<div id="wrapper"><table id="categoriesTable"></div><tr><h2><center>$header</center></h2></tr></table>
</body>
</html>
